addr:
  tcp://wordpress-mariadb:3306:
    reachable: true
    timeout: 1000
command:
  wordpress-user-id:
    exec: id -u
    exit-status: 0
    stderr: []
    stdout:
      - "1002"
    timeout: 20000
  wp:
    exec: wp
    exit-status: 0
    stderr: []
    stdout:
      - Manage WordPress through the command-line.
    timeout: 20000
  wp-cli-info:
    exec: wp cli info
    exit-status: 0
    stderr: []
    stdout:
      - /WP-CLI root dir:\s*phar:\/\/wp-cli.phar\/vendor\/wp-cli\/wp-cli/
      - /WP-CLI global config:\s*\/opt\/bitnami\/wp-cli\/conf\/wp-cli.yml/
    timeout: 20000
  wp-config-list:
    exec: wp config list
    exit-status: 0
    stderr: []
    stdout:
      - test_wordpress_database
      - test_wordpress_username
      - test_wordpress_password
      - wordpress_
    timeout: 20000
  wp-db-create-user:
    exec: wp user create test test@example.com --role=author
    exit-status: 0
    stderr: []
    stdout:
      - 'Success: Created user'
    timeout: 20000
  wp-post-exists:
    exec: wp post list
    exit-status: 0
    stderr: []
    stdout:
      - Hello world!
    timeout: 20000
file:
  /opt/bitnami/wordpress/wp-config.php:
    contains:
      - /FS_METHOD.*direct/
      - /WP_HOME/
      - /WP_SITEURL/
    exists: true
    filetype: symlink
    mode: "0777"
  /opt/bitnami/wordpress/wp-content:
    exists: true
    filetype: symlink
    group: root
    mode: "0777"
