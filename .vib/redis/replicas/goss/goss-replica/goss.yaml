command:
  redis-auth:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli -h 127.0.0.1 -p 6379
    exit-status: 0
    stderr: []
    timeout: 20000
  redis-get-users:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli ACL LIST
    exit-status: 0
    stderr: []
    stdout:
      - user default
    timeout: 20000000
  redis-info:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli INFO
    exit-status: 0
    stderr: []
    stdout:
      - role:slave
    timeout: 20000
  redis-not-writing-read-only-replica:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli SET key value
    exit-status: 0
    stderr: []
    stdout:
      - READONLY You can't write against a read only replica.
    timeout: 20000
  redis-ping:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli PING
    exit-status: 0
    stderr: []
    stdout:
      - PONG
    timeout: 20000
  redis-ping-no-password:
    exec: redis-cli PING
    exit-status: 0
    stderr: []
    stdout:
      - NOAUTH Authentication required.
    timeout: 20000
  redis-resetstat:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli CONFIG RESETSTAT
    exit-status: 0
    stderr: []
    stdout:
      - OK
    timeout: 20000
  redis-role:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli ROLE
    exit-status: 0
    stderr: []
    stdout:
      - slave
    timeout: 20000
  redis-setuser:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli ACL SETUSER virginia on +GET allkeys
    exit-status: 0
    stderr: []
    stdout:
      - OK
    timeout: 20000
  redis-whoami:
    exec: REDISCLI_AUTH="$REDIS_PASSWORD" redis-cli ACL WHOAMI
    exit-status: 0
    stderr: []
    stdout:
      - default
    timeout: 20000
  user-id-test:
    exec: id -u
    exit-status: 0
    stderr: []
    stdout:
      - 1002
    timeout: 20000
file:
  /opt/bitnami/redis/mounted-etc/replica.conf:
    contains:
      - rename-command FLUSHDB ""
      - rename-command FLUSHALL ""
    exists: true
    filetype: symlink
    mode: "0777"
